<div class="section" [formGroup]="addRoomForm">
    test {{addRoomForm | json}}
    <h2>Exits:</h2>
    <p>
        Exits will need to be added to both rooms to be two way,
        and share the same key for any doors, all properties must match too.
    </p>
    <p>Coordinates shown are (x,y,z)</p>

    <div class="addRoom__exits">

        <div class="row">


            <div class="col">

                <button title="Add North West Exit"
                    *ngIf="northWestValidExit && addRoomForm.get('northWest').value == ''" mat-raised-button
                    type="button" (click)="openExitDialog('North West')">
                    North West
                </button>

                <button title="Add North West Exit" *ngIf="addRoomForm.get('northWest').value != ''" mat-raised-button
                    type="button" color="primary" (click)="openExitDialog('North West')">
                    North West
                    <span class="addRoom__exits__coords">({{exits.northWest.coords?.x}},
                        {{exits.northWest.coords?.y}},
                        {{exits.northWest.coords?.z}})</span>
                </button>
            </div>
            <div class="col">
                valid {{northValidExit}}
                <button *ngIf="northValidExit && addRoomForm.get('north').value == ''" title="Add North Exit"
                    mat-raised-button type="button" (click)="openExitDialog('North')">
                    North
                </button>

                <button *ngIf="northValidExit || addRoomForm.get('north').value != ''" color="primary"
                    title="Add North Exit" mat-raised-button type="button" (click)="openExitDialog('North')">
                    North
                    <span class="addRoom__exits__coords">({{exits.north.coords?.x}},
                        {{exits.north.coords?.y}},
                        {{exits.north.coords?.z}})</span>
                </button>

                <a href="javascript:(0)" *ngIf="addRoomForm.get('north').value != ''">Remove
                    exit</a>
            </div>

            <div class="col">

                <button title=" Add North East Exit"
                    *ngIf="northEastValidExit && addRoomForm.get('northEast').value == ''" mat-raised-button
                    type="button" (click)="openExitDialog('North East')">
                    North East

                </button>
                <button title=" Add North East Exit" *ngIf="addRoomForm.get('northEast').value != ''" mat-raised-button
                    color="primary" type="button" (click)="openExitDialog('North East')">
                    North East
                    <span class="addRoom__exits__coords">({{exits.northEast.coords?.x}},
                        {{exits.northEast.coords?.y}},
                        {{exits.northEast.coords?.z}})</span>
                </button>
            </div>
        </div>

        <div class="row">

            <div class="col">

                <button title="Add West Exit" *ngIf="westValidExit && addRoomForm.get('west').value == ''"
                    mat-raised-button type="button" (click)="openExitDialog('West')">
                    West
                </button>
                <button title="Add West Exit" *ngIf="addRoomForm.get('west').value != ''" color="primary"
                    mat-raised-button type="button" (click)="openExitDialog('West')">
                    West
                    <span class="addRoom__exits__coords">({{exits.west.coords?.x}},
                        {{exits.west.coords?.y}},
                        {{exits.west.coords?.z}})</span>
                </button>
            </div>

            <div class="col">
                <button mat-raised-button type="button" disabled="true">
                    Current Room {{coords | json}}
                    <span class="addRoom__exits__coords">({{coords?.x}},
                        {{coords?.y}},
                        {{coords?.z}})</span>
                </button>
            </div>

            <div class="col">

                <button title="Add East Exit" *ngIf="eastValidExit && addRoomForm.get('east').value == ''"
                    mat-raised-button type="button" (click)="openExitDialog('East')">
                    East
                </button>

                <button title="Add East Exit" *ngIf="addRoomForm.get('east').value != ''" color="primary"
                    mat-raised-button type="button" (click)="openExitDialog('East')">
                    East
                    <span class="addRoom__exits__coords">({{exits.east.coords?.x}},
                        {{exits.east.coords?.y}},
                        {{exits.east.coords?.z}})</span>
                </button>
            </div>
        </div>
        <div class="row">
            <div class="col">
                ----------------------------------------------------------------------
                {{southWestValidExit | async}}

                {{southWestValidExit}}

                test---------------------------
                <button title="Add South West Exit"
                    *ngIf="southWestValidExit && addRoomForm.get('southWest').value == ''" mat-raised-button
                    type="button" (click)="openExitDialog('South West')">
                    South West
                </button>

                <button title="Add South West Exit" *ngIf="addRoomForm.get('southWest').value != ''" mat-raised-button
                    type="button" color="primary" (click)="openExitDialog('South West')">
                    South West
                    <span class="addRoom__exits__coords">({{exits.southWest.coords?.x}},
                        {{exits.southWest.coords?.y}},
                        {{exits.southWest.coords?.z}})</span>
                </button>
            </div>
            <div class="col">

                <button title="Add South Exit" *ngIf="southValidExit &&  addRoomForm.get('south').value == ''"
                    mat-raised-button type="button" (click)="openExitDialog('South')">
                    South
                </button>

                <button title="Add South Exit" *ngIf="addRoomForm.get('south').value != ''" mat-raised-button
                    color="primary" type="button" (click)="openExitDialog('South')">
                    South
                    <span class="addRoom__exits__coords">({{exits.south.coords?.x}},
                        {{exits.south.coords?.y}},
                        {{exits.south.coords?.z}})</span>
                </button>
            </div>


            <div class="col">

                <button title="Add South East Exit"
                    *ngIf="southEastValidExit &&  addRoomForm.get('southEast').value == ''" mat-raised-button
                    type="button" (click)="openExitDialog('South East')">
                    South East
                </button>

                <button title="Add South East Exit" *ngIf="addRoomForm.get('southEast').value != ''" mat-raised-button
                    type="button" color="primary" (click)="openExitDialog('South East')">
                    South East

                    <span class="addRoom__exits__coords">({{exits.southEast.coords?.x}},
                        {{exits.southEast.coords?.y}},
                        {{exits.southEast.coords?.z}})</span>
                </button>
            </div>

        </div>

        <div class="row">
            <div class="col">
                <button mat-raised-button type="button" *ngIf="addRoomForm.get('up').value == ''"
                    (click)="openExitDialog('Up')">
                    Up
                </button>

                <button mat-raised-button type="button" color="primary" *ngIf="addRoomForm.get('up').value != ''"
                    (click)="openExitDialog('Up')">
                    Up
                    <span class="addRoom__exits__coords">({{exits.up.coords?.x}},
                        {{exits.up.coords?.y}},
                        {{exits.up.coords?.z}})</span>
                </button>
            </div>

            <div class="col">
                <button mat-raised-button type="button" *ngIf="addRoomForm.get('down').value == ''"
                    (click)="openExitDialog('Down')">
                    Down
                </button>

                <button mat-raised-button type="button" *ngIf="addRoomForm.get('down').value != ''" color="primary"
                    (click)="openExitDialog('Down')">
                    Down
                    <span class="addRoom__exits__coords">({{exits.down.coords?.x}},
                        {{exits.down.coords?.y}},
                        {{exits.down.coords?.z}})</span>
                </button>
            </div>
        </div>

    </div>
</div>
<div class="section">
    <h2>Coords:</h2>
    <p>
        These are automatically set based on the map on the area page. You
        should rarely need to manually change these but you have the option to
        do so.
    </p>

    <div class="row">
        <div class="col">
            <mat-form-field appearance="outline" class="form-control">
                <mat-label>X:</mat-label>
                <input matInput placeholder="X Coord" required formControlName="CoordX" />
                <mat-error *ngIf="addRoomForm.get('CoordX').hasError('required')">
                    X coord is required.
                </mat-error>
            </mat-form-field>
        </div>
        <div class="col">
            <mat-form-field appearance="outline" class="form-control">
                <mat-label>Y:</mat-label>
                <input matInput placeholder="Y Coord" required formControlName="CoordY" />
                <mat-error *ngIf="addRoomForm.get('CoordY').hasError('required')">
                    y coord is required.
                </mat-error>
            </mat-form-field>
        </div>

        <div class="col">
            <mat-form-field appearance="outline" class="form-control">
                <mat-label>Z:</mat-label>
                <input matInput placeholder="Z Coord" required formControlName="CoordZ" />
                <mat-error *ngIf="addRoomForm.get('CoordY').hasError('required')">
                    z coord is required.
                </mat-error>
            </mat-form-field>
        </div>
    </div>
</div>